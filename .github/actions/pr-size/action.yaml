---
author: 'Econia Labs'
description: 'Require extra approvals for PRs with many lines added/removed'
inputs:
  max_lines_added:
    description: 'Maximum lines that can be added before requiring override'
    required: true
  max_lines_removed:
    description: 'Maximum lines that can be removed before requiring override'
    required: true
  n_override_approvals:
    description: 'Number of approvals required for override'
    required: true
name: 'PR size'
runs:
  env:
    GITHUB_EVENT_NAME: '${{ github.event_name }}'
    MAX_LINES_ADDED: '${{ inputs.max_lines_added }}'
    MAX_LINES_REMOVED: '${{ inputs.max_lines_removed }}'
    OVERRIDE_N_APPROVALS: '${{ inputs.n_override_approvals }}'
  steps:
  - uses: 'actions/checkout@v4'
    with:
      fetch-depth: 0
  - name: 'Check if run from merge group'
    run: 'sh ${{ github.action_path }}/sh/check-if-in-merge-group.sh'
    shell: 'sh'
  - name: 'Get PR number'
    run: 'sh ${{ github.action_path }}/sh/get-pr-number.sh'
    shell: 'sh'
  using: 'composite'
...
